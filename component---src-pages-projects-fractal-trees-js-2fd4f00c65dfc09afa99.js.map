{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./src/pages/projects/useMedia.js","webpack:///./src/components/input/range.js","webpack:///./src/pages/projects/fractal-trees.js"],"names":["$export","$find","KEY","forced","Array","P","F","findIndex","callbackfn","this","arguments","length","undefined","useMedia","queries","values","defaultValue","mediaQueryLists","map","q","window","matchMedia","getValue","index","mql","matches","useState","value","setValue","useEffect","handler","forEach","addListener","removeListener","RangeInput","label","min","max","step","onChange","type","e","parseInt","target","FractalTrees","canvas","useRef","scale","baseWidth","width","height","setLength","angle","setAngle","segments","setSegments","jitter","setJitter","redraw","ctx","current","getContext","clearRect","draw","first","startX","startY","len","branchWidth","beginPath","save","translate","rotate","Math","ceil","random","PI","lineWidth","moveTo","lineTo","stroke","restore","className","onClick","ref"],"mappings":"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","file":"component---src-pages-projects-fractal-trees-js-2fd4f00c65dfc09afa99.js","sourcesContent":["'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import { useState, useEffect } from \"react\"\n\nconst useMedia = (queries, values, defaultValue) => {\n  // Array containing a media query list for each query\n  const mediaQueryLists = queries.map(q => window.matchMedia(q))\n\n  // Function that gets value based on matching media query\n  const getValue = () => {\n    // Get index of first media query that matches\n    const index = mediaQueryLists.findIndex(mql => mql.matches)\n    // Return related value or defaultValue if none\n    return typeof values[index] !== \"undefined\" ? values[index] : defaultValue\n  }\n\n  // State and setter for matched value\n  const [value, setValue] = useState(getValue)\n\n  useEffect(\n    () => {\n      // Event listener callback\n      // Note: By defining getValue outside of useEffect we ensure that it has ...\n      // ... current values of hook args (as this hook callback is created once on mount).\n      const handler = () => setValue(getValue)\n      // Set a listener for each media query with above handler as callback.\n      mediaQueryLists.forEach(mql => mql.addListener(handler))\n      // Remove listeners on cleanup\n      return () => mediaQueryLists.forEach(mql => mql.removeListener(handler))\n    },\n    [] // Empty array ensures effect is only run on mount and unmount\n  )\n\n  return value\n}\nexport default useMedia\n","import React from \"react\"\nimport \"./style.css\"\n\nconst RangeInput = ({ label, min, max, step, value, onChange }) => {\n  return (\n    <>\n      <label>{label}</label>\n      <input\n        type=\"range\"\n        min={min}\n        max={max}\n        step={step}\n        value={value}\n        onChange={e => onChange(parseInt(e.target.value))}\n      />\n    </>\n  )\n}\n\nexport default RangeInput\n","import React, { useRef, useEffect, useState } from \"react\"\nimport Layout from \"../../components/layout\"\nimport RangeInput from \"../../components/input/range\"\nimport useMedia from \"./useMedia\"\n\nconst lengthReduction = 0.8\nconst widthReduction = 0.8\n\nconst draw = (\n  ctx,\n  first,\n  startX,\n  startY,\n  len,\n  segments,\n  angle,\n  jitter,\n  branchWidth\n) => {\n  ctx.beginPath()\n  ctx.save()\n\n  ctx.translate(startX, startY)\n  ctx.rotate(\n    first ? 0 : (angle * Math.ceil(Math.random() * jitter) * Math.PI) / 180\n  )\n  ctx.lineWidth = branchWidth\n  ctx.moveTo(0, 0)\n  ctx.lineTo(0, -len)\n  ctx.stroke()\n\n  if (segments === 0) {\n    ctx.restore()\n    return\n  }\n\n  draw(\n    ctx,\n    false,\n    0,\n    -len,\n    len * lengthReduction,\n    segments - 1,\n    -angle,\n    jitter,\n    branchWidth * widthReduction\n  )\n  draw(\n    ctx,\n    false,\n    0,\n    -len,\n    len * lengthReduction,\n    segments - 1,\n    angle,\n    jitter,\n    branchWidth * widthReduction\n  )\n\n  ctx.restore()\n}\n\nconst FractalTrees = () => {\n  const canvas = useRef()\n  const scale = useMedia(\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 300px)\"],\n    [1, 0.5, 0.5],\n    1\n  )\n\n  const baseWidth = 8 * scale\n  const [width, height] = [900 * scale, 670 * scale]\n  const [length, setLength] = useState(120)\n  const [angle, setAngle] = useState(5)\n  const [segments, setSegments] = useState(12)\n  const [jitter, setJitter] = useState(10)\n\n  const redraw = () => {\n    const ctx = canvas.current.getContext(\"2d\")\n    ctx.clearRect(0, 0, canvas.current.width, canvas.current.height)\n    draw(\n      ctx,\n      true,\n      width / 2,\n      height - 70,\n      length,\n      segments,\n      angle,\n      jitter,\n      baseWidth\n    )\n  }\n\n  useEffect(redraw, [length, angle, jitter, segments])\n\n  return (\n    <Layout className=\"noselect\">\n      <h1>Fractal Trees</h1>\n\n      <canvas onClick={redraw} ref={canvas} width={width} height={height} />\n      <br />\n\n      <RangeInput\n        label=\"length\"\n        min={40 * scale}\n        max={120 * scale}\n        step={10 * scale}\n        value={length}\n        onChange={setLength}\n      />\n      <RangeInput\n        label=\"segments\"\n        min={1}\n        max={15}\n        step={1}\n        value={segments}\n        onChange={setSegments}\n      />\n      <RangeInput\n        label=\"angle\"\n        min={5}\n        max={50}\n        step={1}\n        value={angle}\n        onChange={setAngle}\n      />\n      <RangeInput\n        label=\"jitter\"\n        min={1}\n        max={10}\n        step={1}\n        value={jitter}\n        onChange={setJitter}\n      />\n    </Layout>\n  )\n}\n\nexport default FractalTrees\n"],"sourceRoot":""}